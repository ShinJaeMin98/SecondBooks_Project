<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="product">
    <div class="board_list layout_width">
        <div class="flex sb aic">
            <h1 th:replace="~{front/board/skins/product/_board_title::title}"></h1>
            <a th:href="@{/board/write/{bid}(bid=${board.bid})}" th:text="#{글쓰기}" class="write_btn"></a>
        </div>

        <th:block th:if="${boardData == null && !#strings.isEmpty(board.htmlTop)}" th:utext="${board.htmlTop}"></th:block>

        <div class="total">
            Total : <th:block th:text="${pagination.total >= 1000 ? #numbers.formatInteger(pagination.total, 3, 'COMMA') : pagination.total}"></th:block>
        </div>

        <div>
            <h4 th:if="${items == null || items.isEmpty()}" class="no_data"
                      th:text="#{조회된_게시글이_없습니다.}"></h4>
        </div>
        <ul class="items">

            <li th:unless="${items == null || items.isEmpty()}"
                th:each="item : ${items}" th:object="${item}" class="item">
                <a th:href="@{/board/view/{seq}(seq=*{seq})}" >

                    <div class="product_image" th:if="*{editorFiles != null && editorFiles.size() != 0}"
                         th:style="*{@utils.backgroundStyle(editorFiles.get(0), 300, 300)}"></div>
                    <div class="subject">
                            <span class="notice" th:if="*{notice}">
                                [<th:block th:text="#{공지}"></th:block>]
                            </span>
                        <span class='category' th:if="*{category}" th:text="*{'[' + category + ']'}"></span>
                        <th:block th:text="*{subject}"></th:block>
                    </div>
                    <div class='sale_price' th:if="*{num1 != null}" th:text="*{num1 >= 1000 ? #numbers.formatInteger(num1, 3, 'COMMA') + ' 원' : num1 + ' 원'}"></div>
                    <!--<th:block th:text="*{seq}"></th:block>-->
                </a>

                <div class="count_box">
                        <span class="view_count">
                            조회수 :
                          <th:block th:text="*{viewCount >= 1000 ? #numbers.formatInteger(viewCount, 3, 'COMMA') : viewCount}"></th:block>
                        </span>

                    <span class="save_count">
                            관심수 :
                            <th:block th:text="*{saveCount >= 1000 ? #numbers.formatInteger(saveCount, 3, 'COMMA') : saveCount}"></th:block>
                       </span>
                </div>

                <div class="post_info">
                        <span class="poster">
                            <th:block th:text="*{poster}"></th:block>
                            <th:block th:if="*{member != null}" th:text="*{'(' + #strings.substring(member.userId, 0, 4) + '****)'}"></th:block>
                        </span>

                    <span class="post_date"
                          th:text="*{#temporals.format(createdAt, 'yyyy.MM.dd HH:mm')}"></span>
                </div>
                <!--// post_info -->
            </li>
        </ul>

        <div class="list_search">
            <form name="frmSearch" method="get" th:action="@{/board/list/{bid}(bid=${board.bid})}" autocomplete="off" th:object="${boardDataSearch}">
                <select name="sopt" th:field="*{sopt}">
                    <option value="SUBJECT" th:text="#{제목}"></option>
                    <option value="CONTENT" th:text="#{내용}"></option>
                    <option value="SUBJECT_CONTENT" th:text="#{제목_내용}"></option>
                    <option value="POSTER" th:text="#{작성자}"></option>
                </select>
                <input type="text" name="skey" th:field="*{skey}" th:placeholder="#{검색어를_입력하세요.}">
                <button type="submit" th:text="#{검색하기}"></button>
            </form>
        </div>
        <!--// list_search -->

        <th:block th:replace="~{common/_pagination::pagination}"></th:block>

        <th:block th:if="${boardData == null && !#strings.isEmpty(board.htmlBottom)}" th:utext="${board.htmlBottom}"></th:block>

    </div>
    <!--// board_list -->
</th:block>
</html>